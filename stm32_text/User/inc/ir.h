#ifndef __IR_H
#define __IR_H

#define GPIOA4_DATA			GPIO_ReadInputDataBit(GPIOA, GPIO_Pin_4)	// CAMERA2_UART_IR
#define GPIOA5_DATA			GPIO_ReadInputDataBit(GPIOA, GPIO_Pin_5)	// CAMERA1_UART_IR
#define GPIOD11_DATA		GPIO_ReadInputDataBit(GPIOD, GPIO_Pin_11)	// FRP_IRIN
#define GPIOA6_DATA		    GPIO_ReadInputDataBit(GPIOA, GPIO_Pin_6)	// CAMERA1_VISCA_IR
#define GPIOA7_DATA		    GPIO_ReadInputDataBit(GPIOA, GPIO_Pin_7)	// CAMERA2_HDBT_IR
#define GET_DATA_NUM		33		// ???????,??33???,??32?????????
#define PRESCALER_VALUE		99		/* ?????????????? */
#define PERIOD_VALUE		71		/* ????????????? */

#define SYS_CODE_HIGH_MIN		41		/* ???????????? */
#define SYS_CODE_HIGH_MAX		48		/* ???????????? */
#define LOGIC_1_HIGN_MIN		14		/* ??1????????? */
#define LOGIC_1_HIGN_MAX		18		/* ??1????????? */
#define LOGIC_0_HIGH_MIN		3		/* ??0????????? */
#define LOGIC_0_HIGH_MAX		8		/* ??0????????? */
#define REPEAT_CODE_HIGH_MIN	20		/* ???????????? */
#define REPEAT_CODE_HIGH_MAX	25		/* ???????????? */
#define RISING_FLAG				0x10	/* ???????? */
#define SYS_CODE_FLAG			0x80	/* ???????? */
#define RECEIVE_OK				0x40	/* ???? */
#define IRUSING_CAM1_HDBT		0x01	/* CAMERA1_HDBT_IR(CAMERA1_UART_IR)???????? */
#define IRUSING_CAM2_VISCA		0x02	/* CAMERA2_VISCA_IR(CAMERA2_UART_IR)???????? */
#define IRUSING_FRP				0x04	/* FRP_IRIN???????? */
#define IRUSING_CAM1_VISCA      0x08    /* CAMERA1_VISCA_IR ???????? */
#define IRUSING_CAM2_HDBT       0x10    /* CAMERA2_HDBT_IR ???????? */
#define IRUSING_FLAG			0xff	/* ???,????????: cam1,cam2, FRP_IRIN */
#define IR_PERIOD				900		/* ???????????,??0.1ms */

#define IR_NOISE                200     /* ?????????20ms?? */ 
#define IR_NOISE_MIN            85      /* ??????? */ 
#define IR_NOISE_MAX            95      /* ??????? */ 

#define IRQ_ON  1
#define IRQ_OFF 0 

static void ir_receive_data(void);
void ir_init(void);
void ir_check_get_data(void);
void ir_decode_data(void);
void Ir_Deal(void);


#endif  
